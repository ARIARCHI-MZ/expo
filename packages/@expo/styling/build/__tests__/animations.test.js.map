{"version":3,"file":"animations.test.js","sourceRoot":"","sources":["../../src/__tests__/animations.test.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,+BAA+B,CAAC;AACvD,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,OAAO,EAAE,UAAU,EAAE,MAAM,8BAA8B,CAAC;AAC1D,OAAO,EAAE,mBAAmB,EAAE,WAAW,EAAE,MAAM,SAAS,CAAC;AAE3D,MAAM,CAAC,GAAG,mBAAmB,EAAE,CAAC;AAEhC,IAAI,CAAC,aAAa,EAAE,CAAC;AAErB,UAAU,CAAC,GAAG,EAAE;IACd,UAAU,CAAC,OAAO,EAAE,CAAC;AACvB,CAAC,CAAC,CAAC;AAEH,IAAI,CAAC,iBAAiB,EAAE,GAAG,EAAE;IAC3B,WAAW,CAAC;;;;;;;;;;;;;;;CAeb,CAAC,CAAC;IAED,MAAM,aAAa,GAAG,MAAM,CAAC,oBAAC,CAAC,IAAC,MAAM,EAAC,MAAM,EAAC,SAAS,EAAC,UAAU,GAAG,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IAE3F,MAAM,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC;QACxC,UAAU,EAAE,MAAM;KACnB,CAAC,CAAC;IAEH,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IAE/B,MAAM,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC;QACxC,UAAU,EAAE,KAAK;KAClB,CAAC,CAAC;IAEH,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IAE/B,MAAM,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC;QACxC,UAAU,EAAE,IAAI;KACjB,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,IAAI,CAAC,cAAc,EAAE,GAAG,EAAE;IACxB,WAAW,CAAC;;;;;;;;;;;CAWb,CAAC,CAAC;IAED,MAAM,aAAa,GAAG,MAAM,CAAC,oBAAC,CAAC,IAAC,MAAM,EAAC,MAAM,EAAC,SAAS,EAAC,UAAU,GAAG,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IAE3F,MAAM,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC;QACxC,SAAS,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;KAChC,CAAC,CAAC;IAEH,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IAE/B,MAAM,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC;QACxC,SAAS,EAAE,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;KAClC,CAAC,CAAC;IAEH,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IAE/B,MAAM,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC;QACxC,SAAS,EAAE,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;KAClC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,IAAI,CAAC,sBAAsB,EAAE,GAAG,EAAE;IAChC,WAAW,CAAC;;;;;;;;;;;;CAYb,CAAC,CAAC;IAED,MAAM,aAAa,GAAG,MAAM,CAAC,oBAAC,CAAC,IAAC,MAAM,EAAC,MAAM,EAAC,SAAS,EAAC,UAAU,GAAG,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IAE3F,MAAM,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC;QACxC,SAAS,EAAE,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;KAClC,CAAC,CAAC;IAEH,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IAE/B,MAAM,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC;QACxC,SAAS,EAAE,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;KAClC,CAAC,CAAC;IAEH,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IAE/B,MAAM,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC;QACxC,SAAS,EAAE,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;KAClC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAE;IAClB,WAAW,CAAC;;;;;;;;;;;;;;;;;CAiBb,CAAC,CAAC;IAED,MAAM,aAAa,GAAG,MAAM,CAAC,oBAAC,CAAC,IAAC,MAAM,EAAC,MAAM,EAAC,SAAS,EAAC,gBAAgB,GAAG,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IAEjG,MAAM,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC;QACxC,MAAM,EAAE,GAAG;QACX,SAAS,EAAE;YACT,EAAE,UAAU,EAAE,CAAC,EAAE,EAAE;YACnB,EAAE,WAAW,EAAE,CAAC,EAAE;YAClB,EAAE,UAAU,EAAE,CAAC,EAAE;YACjB,EAAE,MAAM,EAAE,CAAC,EAAE;YACb,EAAE,MAAM,EAAE,CAAC,EAAE;YACb,EAAE,MAAM,EAAE,MAAM,EAAE;YAClB,EAAE,OAAO,EAAE,MAAM,EAAE;YACnB,EAAE,OAAO,EAAE,MAAM,EAAE;YACnB,EAAE,OAAO,EAAE,MAAM,EAAE;YACnB,EAAE,KAAK,EAAE,MAAM,EAAE;YACjB,EAAE,KAAK,EAAE,MAAM,EAAE;YACjB,EAAE,KAAK,EAAE,CAAC,EAAE;SACb;KACF,CAAC,CAAC;IAEH,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;IAE9B,MAAM,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC;QACxC,MAAM,EAAE,GAAG;QACX,SAAS,EAAE;YACT,EAAE,UAAU,EAAE,CAAC,EAAE;YACjB,EAAE,WAAW,EAAE,CAAC,EAAE;YAClB,EAAE,UAAU,EAAE,CAAC,EAAE;YACjB,EAAE,MAAM,EAAE,CAAC,EAAE;YACb,EAAE,MAAM,EAAE,CAAC,EAAE;YACb,EAAE,MAAM,EAAE,MAAM,EAAE;YAClB,EAAE,OAAO,EAAE,MAAM,EAAE;YACnB,EAAE,OAAO,EAAE,MAAM,EAAE;YACnB,EAAE,OAAO,EAAE,MAAM,EAAE;YACnB,EAAE,KAAK,EAAE,MAAM,EAAE;YACjB,EAAE,KAAK,EAAE,MAAM,EAAE;YACjB,EAAE,KAAK,EAAE,CAAC,EAAE;SACb;KACF,CAAC,CAAC;IAEH,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;IAE9B,MAAM,CAAC,aAAa,CAAC,CAAC,mBAAmB,CAAC;QACxC,MAAM,EAAE,GAAG;QACX,SAAS,EAAE;YACT,EAAE,UAAU,EAAE,CAAC,EAAE,EAAE;YACnB,EAAE,WAAW,EAAE,CAAC,EAAE;YAClB,EAAE,UAAU,EAAE,CAAC,EAAE;YACjB,EAAE,MAAM,EAAE,CAAC,EAAE;YACb,EAAE,MAAM,EAAE,CAAC,EAAE;YACb,EAAE,MAAM,EAAE,MAAM,EAAE;YAClB,EAAE,OAAO,EAAE,MAAM,EAAE;YACnB,EAAE,OAAO,EAAE,MAAM,EAAE;YACnB,EAAE,OAAO,EAAE,MAAM,EAAE;YACnB,EAAE,KAAK,EAAE,MAAM,EAAE;YACjB,EAAE,KAAK,EAAE,MAAM,EAAE;YACjB,EAAE,KAAK,EAAE,CAAC,EAAE;SACb;KACF,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { render } from '@testing-library/react-native';\nimport React from 'react';\n\nimport { StyleSheet } from '../runtime/native/stylesheet';\nimport { createMockComponent, registerCSS } from './utils';\n\nconst A = createMockComponent();\n\njest.useFakeTimers();\n\nbeforeEach(() => {\n  StyleSheet.__reset();\n});\n\ntest('basic animation', () => {\n  registerCSS(`\n.my-class {\n  animation-duration: 3s;\n  animation-name: slidein;\n}\n\n@keyframes slidein {\n  from {\n    margin-left: 100%;\n  }\n\n  to {\n    margin-left: 0%;\n  }\n}\n`);\n\n  const testComponent = render(<A testID=\"test\" className=\"my-class\" />).getByTestId('test');\n\n  expect(testComponent).toHaveAnimatedStyle({\n    marginLeft: '100%',\n  });\n\n  jest.advanceTimersByTime(1500);\n\n  expect(testComponent).toHaveAnimatedStyle({\n    marginLeft: '50%',\n  });\n\n  jest.advanceTimersByTime(1500);\n\n  expect(testComponent).toHaveAnimatedStyle({\n    marginLeft: '0%',\n  });\n});\n\ntest('single frame', () => {\n  registerCSS(`\n    .my-class {\n      animation-duration: 3s;\n      animation-name: spin;\n    }\n\n    @keyframes spin {\n      to {\n        transform: rotate(360deg);\n      }\n    }\n`);\n\n  const testComponent = render(<A testID=\"test\" className=\"my-class\" />).getByTestId('test');\n\n  expect(testComponent).toHaveAnimatedStyle({\n    transform: [{ rotate: '0deg' }],\n  });\n\n  jest.advanceTimersByTime(1500);\n\n  expect(testComponent).toHaveAnimatedStyle({\n    transform: [{ rotate: '180deg' }],\n  });\n\n  jest.advanceTimersByTime(1500);\n\n  expect(testComponent).toHaveAnimatedStyle({\n    transform: [{ rotate: '360deg' }],\n  });\n});\n\ntest('transform - starting', () => {\n  registerCSS(`\n    .my-class {\n      animation-duration: 3s;\n      animation-name: spin;\n      transform: rotate(180deg);\n    }\n\n    @keyframes spin {\n      to {\n        transform: rotate(360deg);\n      }\n    }\n`);\n\n  const testComponent = render(<A testID=\"test\" className=\"my-class\" />).getByTestId('test');\n\n  expect(testComponent).toHaveAnimatedStyle({\n    transform: [{ rotate: '180deg' }],\n  });\n\n  jest.advanceTimersByTime(1500);\n\n  expect(testComponent).toHaveAnimatedStyle({\n    transform: [{ rotate: '270deg' }],\n  });\n\n  jest.advanceTimersByTime(1500);\n\n  expect(testComponent).toHaveAnimatedStyle({\n    transform: [{ rotate: '360deg' }],\n  });\n});\n\ntest('bounce', () => {\n  registerCSS(`\n    .animate-bounce {\n      animation: bounce 1s infinite;\n      height: 100px;\n    }\n\n    @keyframes bounce {\n      0%, 100% {\n        transform: translateY(-25%);\n        animation-timing-function: cubic-bezier(0.8,0,1,1);\n      }\n\n      50% {\n        transform: none;\n        animation-timing-function: cubic-bezier(0,0,0.2,1);\n      }\n    }\n`);\n\n  const testComponent = render(<A testID=\"test\" className=\"animate-bounce\" />).getByTestId('test');\n\n  expect(testComponent).toHaveAnimatedStyle({\n    height: 100,\n    transform: [\n      { translateY: -25 },\n      { perspective: 1 },\n      { translateX: 0 },\n      { scaleX: 1 },\n      { scaleY: 1 },\n      { rotate: '0deg' },\n      { rotateX: '0deg' },\n      { rotateY: '0deg' },\n      { rotateZ: '0deg' },\n      { skewX: '0deg' },\n      { skewY: '0deg' },\n      { scale: 1 },\n    ],\n  });\n\n  jest.advanceTimersByTime(500);\n\n  expect(testComponent).toHaveAnimatedStyle({\n    height: 100,\n    transform: [\n      { translateY: 0 },\n      { perspective: 1 },\n      { translateX: 0 },\n      { scaleX: 1 },\n      { scaleY: 1 },\n      { rotate: '0deg' },\n      { rotateX: '0deg' },\n      { rotateY: '0deg' },\n      { rotateZ: '0deg' },\n      { skewX: '0deg' },\n      { skewY: '0deg' },\n      { scale: 1 },\n    ],\n  });\n\n  jest.advanceTimersByTime(500);\n\n  expect(testComponent).toHaveAnimatedStyle({\n    height: 100,\n    transform: [\n      { translateY: -25 },\n      { perspective: 1 },\n      { translateX: 0 },\n      { scaleX: 1 },\n      { scaleY: 1 },\n      { rotate: '0deg' },\n      { rotateX: '0deg' },\n      { rotateY: '0deg' },\n      { rotateZ: '0deg' },\n      { skewX: '0deg' },\n      { skewY: '0deg' },\n      { scale: 1 },\n    ],\n  });\n});\n"]}