{"version":3,"file":"media-query.test.js","sourceRoot":"","sources":["../../src/__tests__/media-query.test.tsx"],"names":[],"mappings":"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","sourcesContent":["import { act, render } from \"@testing-library/react-native\";\nimport React from \"react\";\n\nimport { createMockComponent, registerCSS } from \"./utils\";\nimport {\n  colorScheme,\n  isReduceMotionEnabled,\n  vw,\n} from \"../runtime/native/globals\";\nimport { StyleSheet } from \"../runtime/native/stylesheet\";\n\nconst A = createMockComponent();\n\nbeforeEach(() => {\n  StyleSheet.__reset();\n});\n\ntest(\"color scheme\", () => {\n  registerCSS(`\n.my-class { color: blue; }\n\n@media (prefers-color-scheme: dark) {\n  .my-class { color: red; }\n}`);\n\n  render(<A className=\"my-class\" />);\n\n  expect(A).styleToEqual({\n    color: \"rgba(0, 0, 255, 1)\",\n  });\n\n  act(() => {\n    colorScheme.set(\"dark\");\n  });\n\n  expect(A).styleToEqual({\n    color: \"rgba(255, 0, 0, 1)\",\n  });\n});\n\ntest(\"prefers-reduced-motion\", () => {\n  registerCSS(`\n    .my-class { color: blue; }\n\n    @media (prefers-reduced-motion) {\n      .my-class { color: red; }\n    }\n  `);\n\n  render(<A className=\"my-class\" />);\n\n  expect(A).styleToEqual({\n    color: \"rgba(0, 0, 255, 1)\",\n  });\n\n  act(() => {\n    isReduceMotionEnabled.set(true);\n  });\n\n  expect(A).styleToEqual({\n    color: \"rgba(255, 0, 0, 1)\",\n  });\n});\n\ntest(\"width (plain)\", () => {\n  registerCSS(`\n.my-class { color: blue; }\n\n@media (width: 500px) {\n  .my-class { color: red; }\n}`);\n\n  render(<A className=\"my-class\" />);\n\n  expect(A).styleToEqual({\n    color: \"rgba(0, 0, 255, 1)\",\n  });\n\n  act(() => {\n    vw.__set(500);\n  });\n\n  expect(A).styleToEqual({\n    color: \"rgba(255, 0, 0, 1)\",\n  });\n});\n\ntest(\"width (range)\", () => {\n  registerCSS(`\n.my-class { color: blue; }\n\n@media (width = 500px) {\n  .my-class { color: red; }\n}`);\n\n  render(<A className=\"my-class\" />);\n\n  expect(A).styleToEqual({\n    color: \"rgba(0, 0, 255, 1)\",\n  });\n\n  act(() => {\n    vw.__set(500);\n  });\n\n  expect(A).styleToEqual({\n    color: \"rgba(255, 0, 0, 1)\",\n  });\n});\n\ntest(\"min-width\", () => {\n  registerCSS(`\n.my-class { color: blue; }\n\n@media (min-width: 500px) {\n  .my-class { color: red; }\n}`);\n\n  render(<A className=\"my-class\" />);\n\n  expect(A).styleToEqual({\n    color: \"rgba(255, 0, 0, 1)\",\n  });\n\n  act(() => {\n    vw.__set(300);\n  });\n\n  expect(A).styleToEqual({\n    color: \"rgba(0, 0, 255, 1)\",\n  });\n});\n\ntest(\"max-width\", () => {\n  registerCSS(`\n.my-class { color: blue; }\n\n@media (max-width: 500px) {\n  .my-class { color: red; }\n}`);\n\n  render(<A className=\"my-class\" />);\n\n  expect(A).styleToEqual({\n    color: \"rgba(0, 0, 255, 1)\",\n  });\n\n  act(() => {\n    vw.__set(300);\n  });\n\n  expect(A).styleToEqual({\n    color: \"rgba(255, 0, 0, 1)\",\n  });\n});\n"]}